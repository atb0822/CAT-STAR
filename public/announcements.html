<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Announcement Manager â€” CAT-STAR 2000</title>
    <style>
        @font-face { font-family:'Star3000'; src:url('fonts/Star3000.ttf') format('truetype'); font-weight:normal; }
        @font-face { font-family:'Star3000'; src:url('fonts/Star3000_Heavy.ttf') format('truetype'); font-weight:bold; }

        * { margin:0; padding:0; box-sizing:border-box; }

        body {
            font-family:'Star3000',monospace;
            background:#0000FF;
            color:#fff;
            min-height:100vh;
        }

        .topbar {
            position:sticky; top:0; z-index:100;
            background:#0000FF;
            border-bottom:4px solid #fff;
            padding:14px 30px;
            display:flex; align-items:center; justify-content:space-between;
        }
        .topbar h1 { font-size:1.6em; font-weight:bold; color:#fff; }
        .back-link {
            color:#fff; text-decoration:none; font-size:1.1em; font-weight:bold;
            border:2px solid #fff; padding:8px 18px; transition:all .2s;
        }
        .back-link:hover { background:rgba(255,255,255,0.1); }

        .page-body { max-width:1000px; margin:0 auto; padding:30px 24px 60px; }

        .section {
            background:#0000FF; border:2px solid #fff;
            margin-bottom:28px; padding:22px;
        }
        .section h2 {
            font-size:1.2em; font-weight:bold; color:#fff;
            margin-bottom:18px; padding-bottom:10px;
            border-bottom:2px solid #fff;
        }

        .form-row { display:grid; grid-template-columns:1fr 1fr; gap:16px; }
        .form-group { margin-bottom:16px; }
        .form-group.full { grid-column:1/-1; }
        .form-group label { display:block; font-size:.95em; color:#fff; margin-bottom:6px; font-weight:bold; }
        .form-group input, .form-group textarea, .form-group select {
            width:100%; background:#0000FF; color:#fff;
            border:2px solid #fff; padding:10px 12px;
            font-family:'Star3000',monospace; font-size:.95em;
        }
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            outline:none; border-color:#fff;
        }
        .form-group textarea { resize:vertical; min-height:120px; }

        .color-swatch {
            display:inline-block;
            width:30px; height:30px;
            border:2px solid #fff;
            vertical-align:middle;
            margin-left:10px;
        }

        .btn {
            background:#0000FF; color:#fff; border:2px solid #fff;
            padding:10px 20px; font-family:'Star3000',monospace;
            font-size:1em; font-weight:bold; cursor:pointer;
            margin:4px; transition:all .2s; text-transform:uppercase;
        }
        .btn:hover { background:rgba(255,255,255,0.1); }
        .btn-danger { background:#ff0000; border-color:#fff; color:#fff; }
        .btn-danger:hover { background:#cc0000; }
        .btn-row { margin-top:6px; }

        .announcement-item {
            background:#0000FF; border:2px solid #fff;
            padding:14px 16px; margin-bottom:10px;
            display:flex; justify-content:space-between; align-items:flex-start; gap:16px;
        }
        .announcement-item .ann-info { flex:1; }
        .announcement-item .ann-headline { font-size:1.1em; font-weight:bold; margin-bottom:4px; }
        .announcement-item .ann-dates { font-size:.85em; color:#fff; margin-bottom:6px; }
        .announcement-item .ann-body { font-size:.9em; color:#fff; line-height:1.5; max-height:100px; overflow:hidden; }
        .announcement-item .btn-group { display:flex; gap:6px; flex-direction:column; }
        .announcement-item .btn { padding:6px 14px; font-size:.85em; margin:0; }

        .toast {
            position:fixed; top:24px; left:50%; transform:translateX(-50%);
            background:#0000FF; color:#fff;
            border:2px solid #fff;
            padding:12px 28px; z-index:200; font-weight:bold;
            opacity:0; transition:opacity .3s; pointer-events:none;
        }
        .toast.show { opacity:1; }

        .edit-mode {
            background:#0000FF !important;
            border-color:#fff !important;
            box-shadow: 0 0 0 3px #fff;
        }
    </style>
</head>
<body>

<div class="toast" id="toast"></div>

<div class="topbar">
    <h1>ðŸ“¢ ANNOUNCEMENT MANAGER</h1>
    <a href="/menu" class="back-link">â—€ RETURN TO MENU</a>
</div>

<div class="page-body">

    <!-- ADD/EDIT ANNOUNCEMENT -->
    <div class="section">
        <h2 id="formTitle">âž• ADD NEW ANNOUNCEMENT</h2>
        <div class="form-row">
            <div class="form-group">
                <label>Start Date</label>
                <input type="date" id="startDate">
            </div>
            <div class="form-group">
                <label>End Date</label>
                <input type="date" id="endDate">
            </div>
            <div class="form-group full">
                <label>Headline</label>
                <input type="text" id="headline" placeholder="IMPORTANT ANNOUNCEMENT">
            </div>
            <div class="form-group">
                <label>Headline Color</label>
                <select id="headlineColor" onchange="updateColorPreview('headline')">
                    <option value="#ff0000" selected>Red</option>
                    <option value="#ffd700">Gold</option>
                    <option value="#ffffff">White</option>
                    <option value="#00ff00">Green</option>
                    <option value="#0000FF">Blue</option>
                    <option value="#00ffff">Cyan</option>
                    <option value="#ff00ff">Magenta</option>
                    <option value="#ffaa00">Orange</option>
                    <option value="#ffff00">Yellow</option>
                </select>
                <span class="color-swatch" id="headlineColorPreview" style="background:#ff0000;"></span>
            </div>
            <div class="form-group">
                <label>Body Color</label>
                <select id="bodyColor" onchange="updateColorPreview('body')">
                    <option value="#ffffff" selected>White</option>
                    <option value="#ffd700">Gold</option>
                    <option value="#cccccc">Light Gray</option>
                    <option value="#00ff00">Green</option>
                    <option value="#00ffff">Cyan</option>
                    <option value="#ffaa00">Orange</option>
                    <option value="#ffff00">Yellow</option>
                    <option value="#ff00ff">Magenta</option>
                    <option value="#0000FF">Blue</option>
                </select>
                <span class="color-swatch" id="bodyColorPreview" style="background:#ffffff;"></span>
            </div>
            <div class="form-group">
                <label>Announcement Type</label>
                <select id="announcementType">
                    <option value="SPONSORED" selected>SPONSORED</option>
                    <option value="PAID">PAID</option>
                </select>
            </div>
            <div class="form-group full">
                <label>Body Text (can be multiple paragraphs)</label>
                <textarea id="bodyText" placeholder="Full announcement text here. Can be up to an entire screen of text."></textarea>
            </div>
        </div>
        <div class="btn-row">
            <button class="btn" id="saveBtn" onclick="saveAnnouncement()">âž• ADD ANNOUNCEMENT</button>
            <button class="btn" onclick="cancelEdit()">CANCEL / CLEAR</button>
        </div>
    </div>

    <!-- ALL ANNOUNCEMENTS -->
    <div class="section">
        <h2>ðŸ“¢ ALL ANNOUNCEMENTS</h2>
        <div class="btn-row" style="margin-bottom:16px;">
            <button class="btn btn-danger" onclick="removeExpired()">REMOVE EXPIRED</button>
        </div>
        <div id="announcementListContainer"></div>
    </div>

</div>

<script src="announcements.js"></script>
</body>
</html>
